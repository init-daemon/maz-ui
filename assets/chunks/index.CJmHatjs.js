import{H as D,I as R,J as I,L as F,K,M as j,R as q,N as T,S as U}from"./theme.jz19ooB_.js";import{d as A,e as k,Y as E,g as H,h as J,w as N,aB as C,n as Y,aA as P,aC as $,aD as O}from"./framework.PdkCnUdB.js";const L={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},z={ariaLabel:{type:String},ariaDescribedby:{type:String}},G={type:{type:String,required:!0},...L,...z},Q=$[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function c(t){return O(t)?C(t):t}function V(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return O(e)?new Proxy(t,{}):t}function W(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function w(t,e){t.labels=e}function S(t,e,n){const l=[];t.datasets=e.map(r=>{const a=t.datasets.find(d=>d[n]===r[n]);return!a||!r.data||l.includes(a)?{...r}:(l.push(a),Object.assign(a,r),a)})}function X(t,e){const n={labels:[],datasets:[]};return w(n,t.labels),S(n,t.datasets,e),n}function et(t,e){return t.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1)}function at(t,e){return t.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1)}function nt(t,e){return t.getElementsAtEventForMode(e,"index",{intersect:!0},!1)}const Z=A({props:G,setup(t,e){let{expose:n,slots:l}=e;const r=k(null),a=E(null);n({chart:a});const d=()=>{if(!r.value)return;const{type:s,data:g,options:b,plugins:p,datasetIdKey:m}=t,y=X(g,m),u=V(y,g);a.value=new D(r.value,{type:s,data:u,options:{...b},plugins:p})},f=()=>{const s=C(a.value);s&&(s.destroy(),a.value=null)},M=s=>{s.update(t.updateMode)};return H(d),J(f),N([()=>t.options,()=>t.data],(s,g)=>{let[b,p]=s,[m,y]=g;const u=C(a.value);if(!u)return;let v=!1;if(b){const i=c(b),h=c(m);i&&i!==h&&(W(u,i),v=!0)}if(p){const i=c(p.labels),h=c(y.labels),x=c(p.datasets),B=c(y.datasets);i!==h&&(w(u.config.data,i),v=!0),x&&x!==B&&(S(u.config.data,x,t.datasetIdKey),v=!0)}v&&Y(()=>{M(u)})},{deep:!0}),()=>P("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:r},[P("p",{},[l.default?l.default():""])])}});function o(t,e){return D.register(e),A({props:L,setup(n,l){let{expose:r}=l;const a=E(null),d=f=>{a.value=f==null?void 0:f.chart};return r({chart:a}),()=>P(Z,Q({ref:d},{type:t,...n}))}})}const rt=o("bar",R),st=o("doughnut",I),ot=o("line",F),lt=o("pie",K),ut=o("polarArea",j),it=o("radar",q),ct=o("bubble",T),dt=o("scatter",U);export{rt as Bar,ct as Bubble,Z as Chart,st as Doughnut,ot as Line,lt as Pie,ut as PolarArea,it as Radar,dt as Scatter,o as createTypedChart,et as getDatasetAtEvent,at as getElementAtEvent,nt as getElementsAtEvent};
