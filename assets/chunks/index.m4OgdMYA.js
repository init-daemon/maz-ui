import{K as P,L as R,M as T,N as F,O as I,Q as K,R as j,S as q,T as N}from"./theme.DEuLxtdO.js";import{d as E,e as U,Y as A,g as k,S as Q,w as Y,aC as x,n as $,aB as C,aD as z,aE as O}from"./framework.CVAs-A_R.js";const L={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},G={ariaLabel:{type:String},ariaDescribedby:{type:String}},H={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...L,...G},J=z[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function c(t){return O(t)?x(t):t}function V(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return O(e)?new Proxy(t,{}):t}function W(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function S(t,e){t.labels=e}function w(t,e,n){const l=[];t.datasets=e.map(s=>{const a=t.datasets.find(d=>d[n]===s[n]);return!a||!s.data||l.includes(a)?{...s}:(l.push(a),Object.assign(a,s),a)})}function X(t,e){const n={labels:[],datasets:[]};return S(n,t.labels),w(n,t.datasets,e),n}function et(t,e){return t.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1)}function at(t,e){return t.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1)}function nt(t,e){return t.getElementsAtEventForMode(e,"index",{intersect:!0},!1)}const Z=E({props:H,setup(t,e){let{expose:n,slots:l}=e;const s=U(null),a=A(null);n({chart:a});const d=()=>{if(!s.value)return;const{type:r,data:y,options:b,plugins:p,datasetIdKey:m}=t,g=X(y,m),u=V(g,y);a.value=new P(s.value,{type:r,data:u,options:{...b},plugins:p})},f=()=>{const r=x(a.value);r&&(t.destroyDelay>0?setTimeout(()=>{r.destroy(),a.value=null},t.destroyDelay):(r.destroy(),a.value=null))},M=r=>{r.update(t.updateMode)};return k(d),Q(f),Y([()=>t.options,()=>t.data],(r,y)=>{let[b,p]=r,[m,g]=y;const u=x(a.value);if(!u)return;let v=!1;if(b){const i=c(b),D=c(m);i&&i!==D&&(W(u,i),v=!0)}if(p){const i=c(p.labels),D=c(g.labels),h=c(p.datasets),B=c(g.datasets);i!==D&&(S(u.config.data,i),v=!0),h&&h!==B&&(w(u.config.data,h,t.datasetIdKey),v=!0)}v&&$(()=>{M(u)})},{deep:!0}),()=>C("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:s},[C("p",{},[l.default?l.default():""])])}});function o(t,e){return P.register(e),E({props:L,setup(n,l){let{expose:s}=l;const a=A(null),d=f=>{a.value=f==null?void 0:f.chart};return s({chart:a}),()=>C(Z,J({ref:d},{type:t,...n}))}})}const st=o("bar",R),rt=o("doughnut",T),ot=o("line",F),lt=o("pie",I),ut=o("polarArea",K),it=o("radar",j),ct=o("bubble",q),dt=o("scatter",N);export{st as Bar,ct as Bubble,Z as Chart,rt as Doughnut,ot as Line,lt as Pie,ut as PolarArea,it as Radar,dt as Scatter,o as createTypedChart,et as getDatasetAtEvent,at as getElementAtEvent,nt as getElementsAtEvent};
